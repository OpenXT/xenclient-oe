diff -uNr uim-1.3.1.orig/xim/locale.cpp uim-1.3.1/xim/locale.cpp
--- uim-1.3.1.orig/xim/locale.cpp	2006-12-22 04:32:43.000000000 +0000
+++ uim-1.3.1/xim/locale.cpp	2011-02-07 16:34:01.181035453 +0000
@@ -36,6 +36,8 @@
 # include <config.h>
 #endif
 
+#include <stdlib.h>
+#include <string.h>
 #include <stdio.h>
 #include <locale.h>
 #include <iconv.h>
diff -uNr uim-1.3.1.orig/xim/ximserver.cpp uim-1.3.1/xim/ximserver.cpp
--- uim-1.3.1.orig/xim/ximserver.cpp	2006-12-22 04:32:43.000000000 +0000
+++ uim-1.3.1/xim/ximserver.cpp	2011-02-07 16:34:01.052027599 +0000
@@ -34,6 +34,7 @@
 # include <config.h>
 #endif
 
+#include <stdlib.h>
 #include <stdio.h>
 #include <ctype.h>
 #include <locale.h>
